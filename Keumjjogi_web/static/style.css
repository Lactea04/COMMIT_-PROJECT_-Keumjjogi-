* {
    box-sizing: border-box;
}
:root {
    /* ê¸ˆìœµ í…Œë§ˆ ë„¤ì´ë¹„/ê³¨ë“œ/í¬ë¦¼ */
    --background: #0f1e36;
    --foreground: #faf8f5;
    --card: #1a2d4a;
    --card-foreground: #faf8f5;
    --primary: #d4a84b;
    --primary-foreground: #0a1628;
    --secondary: #2a4365;
    --secondary-foreground: #faf8f5;
    --muted: #3d5a80;
    --muted-foreground: #ebe5d9;
    --accent: #e5bc6a;
    --accent-foreground: #0a1628;
    --border: #2a4365;

    --radius: 12px;

    /* ì¶”ê°€ íŒ”ë ˆíŠ¸ (í•„ìš”í•  ë•Œ ì‚¬ìš©) */
    --navy-950: #0a1628;
    --navy-900: #0f1e36;
    --navy-800: #1a2d4a;
    --navy-700: #2a4365;
    --gold-500: #d4a84b;
    --cream-50: #faf8f5;
    --cream-200: #ebe5d9;
}


body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "ë§‘ì€ ê³ ë”•", system-ui, sans-serif;
    background: linear-gradient(180deg, var(--background) 0%, var(--navy-950) 100%);
    color: var(--foreground);
    min-height: 100vh;
}


/* ìƒë‹¨ ë°” */
.top-bar {
    background-color: var(--navy-950);
    color: var(--cream-50);
    border-bottom: 1px solid var(--border);
    padding: 10px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 14px;
}

.top-left {
    display: flex;
    align-items: center;
    gap: 12px;
}

.logo-icon {
    width: 32px;
    height: 32px;
    border-radius: 10px;
    background-color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
}

.logo-text-symbol {
    font-weight: 700;
    font-size: 14px;
    color: var(--primary-foreground);
}

.logo-text {
    font-weight: 600;
    color: var(--cream-50);
}

.top-score {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
}

.top-score-label {
    color: var(--muted-foreground);
}

.top-score-value {
    color: var(--primary);
    font-weight: 700;
    font-size: 18px;
}


.top-title {
    font-weight: 600;
}

.top-score span {
    font-weight: 700;
    color: #f97316;
}

/* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
.main-container {
    min-height: calc(100vh - 44px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
}

/* ì—¬ëŸ¬ í™”ë©´ ê´€ë¦¬ */
.screen {
    display: none;
    width: 100%;
    max-width: 900px;
}

.screen.active {
    display: block;
}

/* ì¹´ë“œ ê³µí†µ ìŠ¤íƒ€ì¼ */
.card {
    background: var(--card);
    color: var(--card-foreground);
    padding: 24px 28px;
    border-radius: 16px;
    box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
    width: 100%;
    border: 1px solid var(--border);
}

.card h1 {
    margin: 0 0 8px;
    font-size: 24px;
}

.stage-summary {
    margin: 0 0 16px;
    color: #6b7280;
    font-size: 14px;
    line-height: 1.6;
}

/* ë©”íƒ€ ì •ë³´ */
.meta-row {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
}

.pill {
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 12px;
}

.pill-phase {
    background-color: #eef2ff;
    color: #4338ca;
}

.pill-progress {
    background-color: #ecfdf3;
    color: #15803d;
}

/* ë¬¸ì œ ì˜ì—­ */
.question-block {
    margin-bottom: 16px;
}

.question-text {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 12px;
    line-height: 1.7;   /* ğŸ”¹ ê¸´ ë¬¸ì¥ë„ ì½ê¸° í¸í•˜ê²Œ */
}


.quiz-image-wrapper {
    position: relative;
    height: 180px;
    overflow: hidden;
    border-radius: 16px;
    margin-bottom: 16px;   /* ğŸ”¹ ì§ˆë¬¸ ë°•ìŠ¤ë‘ ê°„ê²© */
}


.quiz-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.4;
}

.overlay-gradient {
    position: absolute;
    inset: 0;
    background: linear-gradient(
            to top,
            var(--card) 0%,
            rgba(26, 45, 74, 0.5) 50%,
            transparent 100%
    );
}

.card {
    box-shadow: 0 25px 50px rgba(0,0,0,0.35);
}

button.main-btn:hover {
    opacity: 0.92;
    box-shadow: 0 10px 25px rgba(212, 168, 75, 0.4); /* primary shadow */
}

/* ===== ì•„ì´ì½˜ + í…ìŠ¤íŠ¸ ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ ===== */
.button-row button,
#to-theme-btn,
#back-home-from-theme,
#theme-global-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;              /* ì•„ì´ì½˜ê³¼ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© */
}

/* ë²„íŠ¼ ì•ˆì—ì„œ ì•„ì´ì½˜ ê°ì‹¸ëŠ” ë˜í¼ */
.btn-icon {
    width: 16px;
    height: 16px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* SVG ì•„ì´ì½˜ í¬ê¸°/ìƒ‰ í†µì¼ */
.btn-icon svg {
    width: 16px;
    height: 16px;
    stroke: currentColor;  /* ë²„íŠ¼ ê¸€ììƒ‰ ë”°ë¼ê° */
    stroke-width: 2;
    fill: none;
}

/* í…ìŠ¤íŠ¸ ë¶€ë¶„ */
.btn-label {
    line-height: 1;
}


/* =========================
   ê°ê´€ì‹ ë³´ê¸° ë²„íŠ¼: í†µí†µ + 3D
   ========================= */
#options-container button {
    width: 100%;
    text-align: left;

    padding: 14px 14px;
    margin-top: 10px;

    border-radius: 14px;
    border: 1px solid rgba(148,163,184,0.25);

    background: rgba(255,255,255,0.06);
    color: #fff;

    font-weight: 750;
    font-size: 14px;

    box-shadow: 0 10px 18px rgba(0,0,0,0.22);

    transition: transform .14s ease, box-shadow .14s ease, filter .14s ease;
    will-change: transform;
}

#options-container button:hover {
    transform: translateY(-3px);
    box-shadow: 0 16px 26px rgba(0,0,0,0.30);
    filter: brightness(1.06);
}

#options-container button:active {
    transform: translateY(2px);
    box-shadow: 0 8px 14px rgba(0,0,0,0.22);
    filter: brightness(0.98);
}

/* ì„ íƒëœ ë³´ê¸° ê°•ì¡° */
#options-container button.selected {
    border-color: rgba(74,222,128,0.70);
    background: rgba(74,222,128,0.10);
}

/* ì£¼ê´€ì‹ ì…ë ¥ */
.short-input {
    width: 100%;
    padding: 8px 10px;
    font-size: 14px;
    border-radius: 8px;
    border: 1px solid #d1d5db;
}

/* ë²„íŠ¼ë“¤ */
.button-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 12px;
}

.button-row button,
#to-theme-btn,
#back-home-from-theme,
#theme-global-btn {
    padding: 8px 14px;
    border-radius: 999px;
    border: none;
    font-size: 13px;
    cursor: pointer;
    background-color: var(--primary);
    color: var(--primary-foreground);
    font-weight: 600;
}

.button-row button:hover:not(:disabled),
#to-theme-btn:hover,
#back-home-from-theme:hover,
#theme-global-btn:hover {
    filter: brightness(1.05);
}

.button-row button:disabled {
    opacity: 0.4;
    cursor: default;
}

button.ghost {
     background-color: transparent;
     border: 1px solid var(--border);
     color: var(--cream-200);
 }
button.ghost:hover {
    background-color: rgba(42, 67, 101, 0.35); /* navy-700 with alpha */
}



/* í”¼ë“œë°± */
.feedback {
    min-height: 40px;
    font-size: 14px;
    white-space: pre-line;
}

.feedback.correct {
    color: #166534;
}

.feedback.wrong {
    color: #b91c1c;
}

/* ===== ìš”ì•½ í™”ë©´ ===== */

.summary-card {
    padding-top: 32px;
    padding-bottom: 28px;
}

.summary-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
}

.summary-icon-circle {
    width: 72px;
    height: 72px;
    border-radius: 999px;
    background: radial-gradient(circle at 30% 20%, #ffe9b0, #d4a84b);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

.summary-icon {
    font-size: 32px;
}

.summary-title-block {
    text-align: center;
}

#summary-stage-title {
    font-size: 22px;
    margin: 0 0 8px;
}

.summary-badge {
    border: none;
    outline: none;
    padding: 6px 14px;
    border-radius: 999px;
    background-color: rgba(212, 168, 75, 0.12);
    color: var(--primary);
    font-size: 12px;
    font-weight: 600;
}

.summary-overview {
    background-color: rgba(15, 31, 55, 0.8);
    border-radius: 16px;
    padding: 16px 18px;
    margin-bottom: 20px;
}

.summary-overview-text {
    margin: 0;
}

/* ê°€ìš´ë° ì ìˆ˜ ì˜ì—­ */
.summary-score-section {
    text-align: center;
    padding: 18px 0;
    border-top: 1px solid rgba(148, 163, 184, 0.5);
    border-bottom: 1px solid rgba(148, 163, 184, 0.5);
    margin-bottom: 20px;
}

.summary-score-label {
    font-size: 13px;
    color: #9ca3af;
    margin-bottom: 6px;
}

.summary-score-value {
    font-size: 44px;
    font-weight: 800;
    color: var(--primary);
    line-height: 1.1;
}

.summary-score-unit {
    font-size: 13px;
    color: #9ca3af;
    margin-top: 4px;
}

/* ìš”ì•½ í™”ë©´ ë²„íŠ¼ ì •ë ¬ */
.summary-buttons {
    justify-content: space-between;
}

/* ë¡œë“œë§µ ì´ë¯¸ì§€ ì˜ì—­ */
.roadmap-container {
    position: relative;
    margin-top: 12px;
}

.roadmap-img {
    width: 100%;
    display: block;
    border-radius: 12px;
}

/* ìŠ¤í…Œì´ì§€ ì•„ì´ì½˜ ìœ„ íˆ¬ëª… ë²„íŠ¼ */
.stage-hotspot {
    position: absolute;
    width: 7%;
    aspect-ratio: 1 / 1;
    border-radius: 50%;
    cursor: pointer;

    /* ì¤‘ì‹¬ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ */
    transform: translate(-50%, -50%);

    background-color: rgba(255, 255, 255, 0); /* ì‹¤ì œ í”Œë ˆì´ ì‹œ ì™„ì „ íˆ¬ëª… */
}

/* ë””ë²„ê¹…ìš© (ì¢Œí‘œ ë§ì¶œ ë•Œë§Œ ì ê¹ ì¼œê¸°) */
/*
.stage-hotspot {
    background-color: rgba(255, 0, 0, 0.35);
    outline: 2px solid red;
}
*/

/* í€´ì¦ˆ í™”ë©´ì—ì„œëŠ” ìƒë‹¨ ìš”ì•½ ìˆ¨ê¸°ê¸° */
#quiz-screen .stage-summary {
    display: none;
}

/* =========================
   í€´ì¦ˆ í™”ë©´: í’€ìŠ¤í¬ë¦° ëª¨ë“œ
   ========================= */

/* quiz-screenë§Œ ê°€ë¡œí­ ì œí•œ í•´ì œ */
#quiz-screen.screen {
    max-width: none;         /* ê¸°ì¡´ 900px ì œí•œ í•´ì œ */
    width: 100%;
}

/* ì¹´ë“œê°€ í™”ë©´ì„ ê½‰ ì±„ìš°ê²Œ */
#quiz-screen .card {
    width: min(1200px, 96vw);                /* ë„ˆë¬´ ê³¼í•˜ì§€ ì•Šê²Œ */
    height: calc(100vh - 44px - 48px);       /* top-bar(44px) + main padding(24*2) ê³ ë ¤ */
    display: flex;
    flex-direction: column;
}

/* ì´ë¯¸ì§€ ì˜ì—­ì„ í¬ê²Œ */
#quiz-screen .quiz-image-wrapper {
    height: clamp(260px, 40vh, 480px);       /* í™”ë©´ í¬ê¸°ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ */
    flex: 0 0 auto;
}

/* ì´ë¯¸ì§€ ë” ì„ ëª…í•˜ê²Œ (ì›í•˜ë©´) */
#quiz-screen .quiz-image {
    object-fit: contain;
    background: rgba(0,0,0,0.25); /* ë‚¨ëŠ” ì—¬ë°± ë³´ê¸° ì¢‹ê²Œ */
}


/* ì§ˆë¬¸/ë³´ê¸° ì˜ì—­ì´ ê¸¸ì–´ì§€ë©´ ë‚´ë¶€ ìŠ¤í¬ë¡¤ */
#quiz-screen .question-block {
    flex: 1 1 auto;
    overflow: auto;
    padding-bottom: 8px;
}

#quiz-screen .card {
    margin: 0 auto; /* âœ… ì¹´ë“œ ê°€ìš´ë° */
}
/* =========================
   í€´ì¦ˆ ì´ë¯¸ì§€ ë¸”ëŸ¬ ì œê±°
   ========================= */

#quiz-screen .quiz-image {
    opacity: 1 !important;        /* âœ… íë¦¼ ì œê±° */
    filter: none !important;     /* âœ… blur ì œê±° */
}

#quiz-screen .quiz-image-wrapper::after {
    display: none !important;    /* âœ… ê·¸ë¼ë°ì´ì…˜ ì˜¤ë²„ë ˆì´ ì œê±° */
}

/* =========================
   ë¡œë“œë§µ(ì‚¬ê±´ 10ê°œ) ê·¸ë¦¬ë“œ
   ========================= */
.event-roadmap{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
    gap: 14px;
    margin-top: 18px;
}

.event-card {
    transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
    box-shadow: 0 10px 18px rgba(0,0,0,0.22);
}

.event-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 18px 30px rgba(0,0,0,0.30);
    filter: brightness(1.04);
}


.event-card.locked{
    opacity: 0.45;
    cursor: not-allowed;
}

.event-card:active {
    transform: translateY(2px);
}

.event-card.completed{
    background: rgba(74,222,128,0.14);
}

.event-title{
    font-weight: 800;
    font-size: 14px;
    margin-bottom: 6px;
}

.event-meta{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    font-size: 12px;
    color: var(--muted-foreground);
}

.event-pill{
    padding: 4px 8px;
    border-radius: 999px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(148,163,184,0.25);
}

/* =========================
   ìƒë™ê° ì¸í„°ë™ì…˜ í”„ë¦¬ì…‹
   ========================= */

/* ëª¨ë“  ë²„íŠ¼ì— ê¸°ë³¸ íŠ¸ëœì§€ì…˜ + ì‚´ì§ ë– ì˜¤ë¦„ */
button,
.btn,
.button,
a.button {
    transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
    will-change: transform;
}

/* hover: ì‚´ì§ ë– ì˜¤ë¦„ + ê·¸ë¦¼ì ê°•í™” */
button:hover,
.btn:hover,
.button:hover,
a.button:hover {
    transform: translateY(-3px);
    filter: brightness(1.04);
}

/* active(í´ë¦­): ëˆŒë¦¬ëŠ” ëŠë‚Œ */
button:active,
.btn:active,
.button:active,
a.button:active {
    transform: translateY(1px) scale(0.99);
    filter: brightness(0.98);
}

/* í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ë„ â€œë°˜ì§â€ */
button:focus-visible,
.btn:focus-visible,
.button:focus-visible,
a.button:focus-visible {
    outline: 2px solid rgba(74, 222, 128, 0.7);
    outline-offset: 2px;
}

/* =========================
   í™”ë ¤í•˜ê³  í° 3D ë²„íŠ¼ (ì•„ì´ì½˜+ë¼ë²¨ êµ¬ì¡° ëŒ€ì‘)
   ========================= */
.btn-3d {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;

    padding: 14px 18px;          /* í¼ì§ */
    border-radius: 16px;
    border: 1px solid rgba(148,163,184,0.30);

    font-weight: 800;
    font-size: 14px;
    letter-spacing: 0.2px;

    color: #fff;
    background: linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));

    /* 3D ì…ì²´ê° */
    box-shadow:
            0 14px 26px rgba(0,0,0,0.28),
            0 2px 0 rgba(255,255,255,0.16) inset;

    cursor: pointer;
    transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
    will-change: transform;
}

/* hover: ë– ì˜¤ë¥´ê³  ë°˜ì§ */
.btn-3d:hover {
    transform: translateY(-4px);
    box-shadow:
            0 20px 34px rgba(0,0,0,0.34),
            0 2px 0 rgba(255,255,255,0.20) inset;
    filter: brightness(1.06);
}

/* active: ëˆŒë¦¬ëŠ” ë§› */
.btn-3d:active {
    transform: translateY(2px) scale(0.99);
    box-shadow:
            0 9px 16px rgba(0,0,0,0.26),
            0 1px 0 rgba(255,255,255,0.10) inset;
    filter: brightness(0.98);
}

/* disabled */
.btn-3d:disabled {
    opacity: 0.45;
    cursor: not-allowed;
    transform: none;
    box-shadow: 0 8px 14px rgba(0,0,0,0.18);
    filter: none;
}

/* ì•„ì´ì½˜ */
.btn-3d .btn-icon {
    width: 22px;
    height: 22px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.btn-3d .btn-icon svg {
    width: 22px;
    height: 22px;
    fill: none;
    stroke: currentColor;
    stroke-width: 2.2;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0.95;
}

/* ë¼ë²¨ */
.btn-3d .btn-label {
    line-height: 1;
}

/* ëŒ€í‘œ(ì •ë‹µ ì œì¶œ) ë²„íŠ¼: í™”ë ¤í•œ ê·¸ë¦° ê·¸ë¼ë°ì´ì…˜ */
.btn-3d.primary {
    border-color: rgba(74,222,128,0.55);
    background: linear-gradient(180deg, rgba(74,222,128,0.98), rgba(16,185,129,0.86));
    box-shadow:
            0 18px 30px rgba(16,185,129,0.30),
            0 2px 0 rgba(255,255,255,0.24) inset;
}

/* ghost ë²„íŠ¼(ë³´ì¡° ë²„íŠ¼): ìœ¤ê³½ + ëœ í™”ë ¤í•œ 3D */
.btn-3d.ghost {
    background: rgba(255,255,255,0.05);
    border-color: rgba(148,163,184,0.22);
    box-shadow:
            0 12px 22px rgba(0,0,0,0.24),
            0 1px 0 rgba(255,255,255,0.10) inset;
}

