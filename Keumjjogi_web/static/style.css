/*
=================================================
BUILD NOTE â€“ Quiz Screen Layout & HUD Overlay
UPDATED: 2025-12-17-19:33

[OVERVIEW]
This update refactors the quiz screen layout to stabilize
visual centering, improve responsive behavior, and decouple
HUD elements from the main content flow.

[KEY CHANGES]
1) Image Area Height Control
- The quiz image wrapper height is controlled using:
  height: clamp(200px, 50vh, 450px);
- This ensures:
  Â· A minimum visible area on small screens
  Â· Responsive scaling based on viewport height
  Â· A maximum cap to prevent oversized images on desktop

2) Image Fit Strategy
- object-fit: contain is intentionally used
- Rationale:
  Â· Prevents image cropping
  Â· Preserves historical / narrative image context
- Trade-off:
  Â· Vertical whitespace may appear depending on aspect ratio
  Â· This is an accepted and intentional design choice

3) Card Center Alignment Fix
- Removed layout-shifting margins previously used for HUD spacing
- The quiz card remains horizontally centered at all times
- HUD elements no longer affect the document flow

4) HUD Overlay Architecture
- Character avatars, battery HUD, and progress indicators
  are rendered as overlay elements
- The quiz image wrapper acts as the positioning anchor
  (position: relative)
- HUD elements are positioned using absolute layout
- pointer-events: none is applied to avoid blocking interactions

[DESIGN PRINCIPLES]
- Static layout, dynamic UI
- Content integrity over visual compression
- Overlay-based HUD to minimize coupling with game logic
- Responsive-first layout decisions

[RESULT]
- Stable card centering across screen sizes
- Predictable image behavior with preserved aspect ratios
- Flexible HUD positioning without layout breakage
- Clean separation between layout and interactive logic

=================================================
*/



* {
    box-sizing: border-box;
}
:root {
    /* ê¸ˆìœµ í…Œë§ˆ ë„¤ì´ë¹„/ê³¨ë“œ/í¬ë¦¼ */
    --background: #0f1e36;
    --foreground: #faf8f5;
    --card: #1a2d4a;
    --card-foreground: #faf8f5;
    --primary: #d4a84b;
    --primary-foreground: #0a1628;
    --secondary: #2a4365;
    --secondary-foreground: #faf8f5;
    --muted: #3d5a80;
    --muted-foreground: #ebe5d9;
    --accent: #e5bc6a;
    --accent-foreground: #0a1628;
    --border: #2a4365;

    --radius: 12px;

    /* ì¶”ê°€ íŒ”ë ˆíŠ¸ (í•„ìš”í•  ë•Œ ì‚¬ìš©) */
    --navy-950: #0a1628;
    --navy-900: #0f1e36;
    --navy-800: #1a2d4a;
    --navy-700: #2a4365;
    --gold-500: #d4a84b;
    --cream-50: #faf8f5;
    --cream-200: #ebe5d9;
}


body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "ë§‘ì€ ê³ ë”•", system-ui, sans-serif;
    background: linear-gradient(180deg, var(--background) 0%, var(--navy-950) 100%);
    color: var(--foreground);
    min-height: 100vh;
}


/* ìƒë‹¨ ë°” */
.top-bar {
    background-color: var(--navy-950);
    color: var(--cream-50);
    border-bottom: 1px solid var(--border);
    padding: 10px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 14px;
}

.top-left {
    display: flex;
    align-items: center;
    gap: 12px;
}

.logo-icon {
    width: 32px;
    height: 32px;
    border-radius: 10px;
    background-color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
}

.logo-text-symbol {
    font-weight: 700;
    font-size: 14px;
    color: var(--primary-foreground);
}

.logo-text {
    font-weight: 600;
    color: var(--cream-50);
}

.top-score {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
}

.top-score-label {
    color: var(--muted-foreground);
}

.top-score-value {
    color: var(--primary);
    font-weight: 700;
    font-size: 18px;
}


.top-title {
    font-weight: 600;
}

.top-score span {
    font-weight: 700;
    color: #f97316;
}

/* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
.main-container {
    min-height: calc(100vh - 44px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
}

/* ì—¬ëŸ¬ í™”ë©´ ê´€ë¦¬ */
.screen {
    display: none;
    width: 100%;
    max-width: 900px;
}

.screen.active {
    display: block;
}

/* ì¹´ë“œ ê³µí†µ ìŠ¤íƒ€ì¼ */
.card {
    background: var(--card);
    color: var(--card-foreground);
    padding: 24px 28px;
    border-radius: 16px;
    box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
    width: 100%;
    border: 1px solid var(--border);
}

.card h1 {
    margin: 0 0 8px;
    font-size: 24px;
}

/* =========================
   HOME (ì‹œì‘ í™”ë©´) â€“ ì¹´ë“œí˜• ëœë”© UI
   ========================= */
/* í™ˆ í™”ë©´ì€ activeì¼ ë•Œë§Œ flexë¡œ ë³´ì´ê²Œ */
#home-screen.active {
    display: flex;
    justify-content: center;
    padding-top: 60px;
    padding-bottom: 60px;
}

.home-card {
    max-width: 920px;
    margin: 0 auto;
    padding: 56px 56px 52px;
    border-radius: 26px;
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
}

.home-icon {
    width: 96px;
    height: 96px;
    border-radius: 26px;
    margin: 0 auto 22px; /* âœ… ê°€ìš´ë° ì •ë ¬ + ì•„ë˜ ê°„ê²© */
    background: linear-gradient(180deg, rgba(212,168,75,1), rgba(229,188,106,0.92));
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
            0 18px 28px rgba(0,0,0,0.35),
            0 2px 0 rgba(255,255,255,0.22) inset;
}

.home-icon svg {
    width: 48px;
    height: 48px;
    fill: none;
    stroke: rgba(10,22,40,0.92);
    stroke-width: 2.4;
    stroke-linecap: round;
    stroke-linejoin: round;
}

.home-title {
    text-align: center;
    margin: 0 0 10px;
    font-size: 44px;
    letter-spacing: -0.6px;
}

.home-desc {
    text-align: center;
    margin: 0 0 26px;
    color: rgba(235,229,217,0.90);
    font-size: 16px;
    line-height: 1.7;
}

.home-feature-row {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 14px;
    margin: 0 0 28px;
}

.feature-chip {
    padding: 18px 14px;
    border-radius: 16px;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(148,163,184,0.18);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow:
            0 12px 22px rgba(0,0,0,0.22),
            0 1px 0 rgba(255,255,255,0.10) inset;
}

.feature-icon {
    color: rgba(212,168,75,0.95);
    font-weight: 900;
    font-size: 18px;
    line-height: 1;
}

.feature-label {
    color: rgba(250,248,245,0.92);
    font-weight: 700;
    font-size: 14px;
}

.home-cta {
    width: 100%;
    padding: 24px 18px;
    border-radius: 18px;
}

.home-cta .btn-label {
    line-height: 1.2;
    font-size: 15px; /* ì„ íƒ */
    font-weight: 800; /* ì„ íƒ */
}


@media (max-width: 640px) {
    .home-card { padding: 28px 22px 22px; }
    .home-title { font-size: 30px; }
    .home-feature-row { grid-template-columns: 1fr; }
}


.stage-summary {
    margin: 0 0 16px;
    color: #6b7280;
    font-size: 14px;
    line-height: 1.6;
}

/* ë©”íƒ€ ì •ë³´ */
.meta-row {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
}

.pill {
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 12px;
}

.pill-phase {
    background-color: #eef2ff;
    color: #4338ca;
}

.pill-progress {
    background-color: #ecfdf3;
    color: #15803d;
}

/* ë¬¸ì œ ì˜ì—­ */
.question-block {
    margin-bottom: 16px;
}

.question-text {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 12px;
    line-height: 1.7;   /* ğŸ”¹ ê¸´ ë¬¸ì¥ë„ ì½ê¸° í¸í•˜ê²Œ */
}


.quiz-image-wrapper {
    position: relative;
    height: 180px;
    overflow: hidden;
    border-radius: 16px;
    margin-bottom: 16px;   /* ğŸ”¹ ì§ˆë¬¸ ë°•ìŠ¤ë‘ ê°„ê²© */
}


.quiz-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.4;
}

.overlay-gradient {
    position: absolute;
    inset: 0;
    background: linear-gradient(
            to top,
            var(--card) 0%,
            rgba(26, 45, 74, 0.5) 50%,
            transparent 100%
    );
}

.card {
    box-shadow: 0 25px 50px rgba(0,0,0,0.35);
}

button.main-btn:hover {
    opacity: 0.92;
    box-shadow: 0 10px 25px rgba(212, 168, 75, 0.4); /* primary shadow */
}

/* ===== ì•„ì´ì½˜ + í…ìŠ¤íŠ¸ ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ ===== */
.button-row button,
#to-theme-btn,
#back-home-from-theme,
#theme-global-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;              /* ì•„ì´ì½˜ê³¼ í…ìŠ¤íŠ¸ ì‚¬ì´ ê°„ê²© */
}

/* ë²„íŠ¼ ì•ˆì—ì„œ ì•„ì´ì½˜ ê°ì‹¸ëŠ” ë˜í¼ */
.btn-icon {
    width: 16px;
    height: 16px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* SVG ì•„ì´ì½˜ í¬ê¸°/ìƒ‰ í†µì¼ */
.btn-icon svg {
    width: 16px;
    height: 16px;
    stroke: currentColor;  /* ë²„íŠ¼ ê¸€ììƒ‰ ë”°ë¼ê° */
    stroke-width: 2;
    fill: none;
}

/* í…ìŠ¤íŠ¸ ë¶€ë¶„ */
.btn-label {
    line-height: 1;
}


/* =========================
   ê°ê´€ì‹ ë³´ê¸° ë²„íŠ¼: í†µí†µ + 3D
   ========================= */
#options-container button {
    width: 100%;
    text-align: left;

    padding: 14px 14px;
    margin-top: 10px;

    border-radius: 14px;
    border: 1px solid rgba(148,163,184,0.25);

    background: rgba(255,255,255,0.06);
    color: #fff;

    font-weight: 750;
    font-size: 14px;

    box-shadow: 0 10px 18px rgba(0,0,0,0.22);

    transition: transform .14s ease, box-shadow .14s ease, filter .14s ease;
    will-change: transform;
}

#options-container button:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 16px 26px rgba(0,0,0,0.30);
    filter: brightness(1.06);
}

#options-container button:active {
    transform: translateY(2px);
    box-shadow: 0 8px 14px rgba(0,0,0,0.22);
    filter: brightness(0.98);
}

/* ì„ íƒëœ ë³´ê¸° ê°•ì¡° */
#options-container button.selected {
    border-color: rgba(74,222,128,0.70);
    background: rgba(74,222,128,0.10);
}

/* ì£¼ê´€ì‹ ì…ë ¥ */
.short-input {
    width: 100%;
    padding: 8px 10px;
    font-size: 14px;
    border-radius: 8px;
    border: 1px solid #d1d5db;
}

/* ë²„íŠ¼ë“¤ */
.button-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 12px;
}

.button-row button,
#to-theme-btn,
#back-home-from-theme,
#theme-global-btn {
    padding: 8px 14px;
    border-radius: 999px;
    border: none;
    font-size: 13px;
    cursor: pointer;
    background-color: var(--primary);
    color: var(--primary-foreground);
    font-weight: 600;
}

.button-row button:hover:not(:disabled),
#to-theme-btn:hover,
#back-home-from-theme:hover,
#theme-global-btn:hover {
    filter: brightness(1.05);
}

button.ghost {
     background-color: transparent;
     border: 1px solid var(--border);
     color: var(--cream-200);
 }
button.ghost:hover {
    background-color: rgba(42, 67, 101, 0.35); /* navy-700 with alpha */
}



/* í”¼ë“œë°± */
.feedback {
    min-height: 40px;
    font-size: 14px;
    white-space: pre-line;
}

/* ===== ìš”ì•½ í™”ë©´ ===== */

.summary-card {
    padding-top: 32px;
    padding-bottom: 28px;
}

.summary-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
}

.summary-icon-circle {
    width: 72px;
    height: 72px;
    border-radius: 999px;
    background: radial-gradient(circle at 30% 20%, #ffe9b0, #d4a84b);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

.summary-icon {
    font-size: 32px;
}

.summary-title-block {
    text-align: center;
}

#summary-stage-title {
    font-size: 22px;
    margin: 0 0 8px;
}

.summary-badge {
    border: none;
    outline: none;
    padding: 6px 14px;
    border-radius: 999px;
    background-color: rgba(212, 168, 75, 0.12);
    color: var(--primary);
    font-size: 12px;
    font-weight: 600;
}

.summary-overview {
    background-color: rgba(15, 31, 55, 0.8);
    border-radius: 16px;
    padding: 16px 18px;
    margin-bottom: 20px;
}

.summary-overview-text {
    margin: 0;
}

/* ê°€ìš´ë° ì ìˆ˜ ì˜ì—­ */
.summary-score-section {
    text-align: center;
    padding: 18px 0;
    border-top: 1px solid rgba(148, 163, 184, 0.5);
    border-bottom: 1px solid rgba(148, 163, 184, 0.5);
    margin-bottom: 20px;
}

.summary-score-label {
    font-size: 13px;
    color: #9ca3af;
    margin-bottom: 6px;
}

.summary-score-value {
    font-size: 44px;
    font-weight: 800;
    color: var(--primary);
    line-height: 1.1;
}

.summary-score-unit {
    font-size: 13px;
    color: #9ca3af;
    margin-top: 4px;
}

/* ìš”ì•½ í™”ë©´ ë²„íŠ¼ ì •ë ¬ */
.summary-buttons {
    justify-content: space-between;
}

/* ë¡œë“œë§µ ì´ë¯¸ì§€ ì˜ì—­ */
.roadmap-container {
    position: relative;
    margin-top: 12px;
}

.roadmap-img {
    width: 100%;
    display: block;
    border-radius: 12px;
}

/* ìŠ¤í…Œì´ì§€ ì•„ì´ì½˜ ìœ„ íˆ¬ëª… ë²„íŠ¼ */
.stage-hotspot {
    position: absolute;
    width: 7%;
    aspect-ratio: 1 / 1;
    border-radius: 50%;
    cursor: pointer;

    /* ì¤‘ì‹¬ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ */
    transform: translate(-50%, -50%);

    background-color: rgba(255, 255, 255, 0); /* ì‹¤ì œ í”Œë ˆì´ ì‹œ ì™„ì „ íˆ¬ëª… */
}

/* ë””ë²„ê¹…ìš© (ì¢Œí‘œ ë§ì¶œ ë•Œë§Œ ì ê¹ ì¼œê¸°) */
/*
.stage-hotspot {
    background-color: rgba(255, 0, 0, 0.35);
    outline: 2px solid red;
}
*/

/* í€´ì¦ˆ í™”ë©´ì—ì„œëŠ” ìƒë‹¨ ìš”ì•½ ìˆ¨ê¸°ê¸° */
#quiz-screen .stage-summary {
    display: none;
}

/* =========================
   í€´ì¦ˆ í™”ë©´: í’€ìŠ¤í¬ë¦° ëª¨ë“œ
   ========================= */

/* quiz-screenë§Œ ê°€ë¡œí­ ì œí•œ í•´ì œ */
#quiz-screen.screen {
    max-width: none;         /* ê¸°ì¡´ 900px ì œí•œ í•´ì œ */
    width: 100%;
}

/* ì¹´ë“œê°€ í™”ë©´ì„ ê½‰ ì±„ìš°ê²Œ */
#quiz-screen .card {
    width: min(1200px, 96vw);                /* ë„ˆë¬´ ê³¼í•˜ì§€ ì•Šê²Œ */
    height: calc(100vh - 44px - 48px);       /* top-bar(44px) + main padding(24*2) ê³ ë ¤ */
    display: flex;
    flex-direction: column;
}


/* ë°°í„°ë¦¬ ë•Œë¬¸ì— ì´ë¯¸ì§€ ì˜ì—­ì„ ë°€ì§€ ë§ê³ , ê·¸ëƒ¥ "ìœ„ì— ì–¹ê¸°" */
#quiz-screen .quiz-image-wrapper {
    margin-right: 0 !important;
}

/* ì´ë¯¸ì§€ ë” ì„ ëª…í•˜ê²Œ (ì›í•˜ë©´) */
#quiz-screen .quiz-image {
    object-fit: contain;
    background: rgba(0,0,0,0.25); /* ë‚¨ëŠ” ì—¬ë°± ë³´ê¸° ì¢‹ê²Œ */
}


/* ì§ˆë¬¸/ë³´ê¸° ì˜ì—­ì´ ê¸¸ì–´ì§€ë©´ ë‚´ë¶€ ìŠ¤í¬ë¡¤ */
#quiz-screen .question-block {
    flex: 1 1 auto;
    overflow: auto;
    padding-bottom: 8px;
}

#quiz-screen .card {
    margin: 0 auto; /* âœ… ì¹´ë“œ ê°€ìš´ë° */
}
/* =========================
   í€´ì¦ˆ ì´ë¯¸ì§€ ë¸”ëŸ¬ ì œê±°
   ========================= */

#quiz-screen .quiz-image {
    opacity: 1 !important;        /* âœ… íë¦¼ ì œê±° */
    filter: none !important;     /* âœ… blur ì œê±° */
}

#quiz-screen .quiz-image-wrapper::after {
    display: none !important;    /* âœ… ê·¸ë¼ë°ì´ì…˜ ì˜¤ë²„ë ˆì´ ì œê±° */
}

/* quiz-image-wrapperê°€ ì´ë¯¸ relativeë¼ì„œ(ê¸°ì¡´ì—ë„ relative) ê·¸ ìœ„ë¡œ ì–¹ìœ¼ë©´ ë¨ */
#quiz-screen .quiz-image-wrapper { position: relative; }  /* ì´ë¯¸ ìˆìœ¼ë©´ ìƒëµ ê°€ëŠ¥ */

#quiz-screen .quiz-image-wrapper {
    height: clamp(200px, 50vh, 450px);
}

/* ë°°í„°ë¦¬ë¥¼ ì´ë¯¸ì§€ ì˜ì—­ ê¸°ì¤€ìœ¼ë¡œ ê³ ì • */
#quiz-screen #battery-hud.battery-hud{
    position: absolute;
    right: 16px;
    top: 16px;
    z-index: 6;
}


/* =========================
   ë¡œë“œë§µ(ì‚¬ê±´ 10ê°œ) ê·¸ë¦¬ë“œ
   ========================= */
.event-roadmap{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
    gap: 14px;
    margin-top: 18px;
}

.event-card {
    transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
    box-shadow: 0 10px 18px rgba(0,0,0,0.22);
}

.event-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 18px 30px rgba(0,0,0,0.30);
    filter: brightness(1.04);
}


.event-card.locked{
    opacity: 0.45;
    cursor: not-allowed;
}

.event-card:active {
    transform: translateY(2px);
}

.event-card.completed{
    background: rgba(74,222,128,0.14);
}

.event-title{
    font-weight: 800;
    font-size: 14px;
    margin-bottom: 6px;
}

.event-meta{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    font-size: 12px;
    color: var(--muted-foreground);
}

.event-pill{
    padding: 4px 8px;
    border-radius: 999px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(148,163,184,0.25);
}

/* =========================
   ìƒë™ê° ì¸í„°ë™ì…˜ í”„ë¦¬ì…‹
   ========================= */

/* ëª¨ë“  ë²„íŠ¼ì— ê¸°ë³¸ íŠ¸ëœì§€ì…˜ + ì‚´ì§ ë– ì˜¤ë¦„ */
button,
.btn,
.button,
a.button {
    transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
    will-change: transform;
}

/* hover: ì‚´ì§ ë– ì˜¤ë¦„ + ê·¸ë¦¼ì ê°•í™” */
button:hover,
.btn:hover,
.button:hover,
a.button:hover {
    transform: translateY(-3px);
    filter: brightness(1.04);
}

/* active(í´ë¦­): ëˆŒë¦¬ëŠ” ëŠë‚Œ */
button:active,
.btn:active,
.button:active,
a.button:active {
    transform: translateY(1px) scale(0.99);
    filter: brightness(0.98);
}

/* í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ë„ â€œë°˜ì§â€ */
button:focus-visible,
.btn:focus-visible,
.button:focus-visible,
a.button:focus-visible {
    outline: 2px solid rgba(74, 222, 128, 0.7);
    outline-offset: 2px;
}

/* =========================
   í™”ë ¤í•˜ê³  í° 3D ë²„íŠ¼ (ì•„ì´ì½˜+ë¼ë²¨ êµ¬ì¡° ëŒ€ì‘)
   ========================= */
.btn-3d {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;

    padding: 14px 18px;          /* í¼ì§ */
    border-radius: 16px;
    border: 1px solid rgba(148,163,184,0.30);

    font-weight: 800;
    font-size: 14px;
    letter-spacing: 0.2px;

    color: #fff;
    background: linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));

    /* 3D ì…ì²´ê° */
    box-shadow:
            0 14px 26px rgba(0,0,0,0.28),
            0 2px 0 rgba(255,255,255,0.16) inset;

    cursor: pointer;
    transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
    will-change: transform;
}

/* hover: ë– ì˜¤ë¥´ê³  ë°˜ì§ */
.btn-3d:hover {
    transform: translateY(-4px);
    box-shadow:
            0 20px 34px rgba(0,0,0,0.34),
            0 2px 0 rgba(255,255,255,0.20) inset;
    filter: brightness(1.06);
}

/* active: ëˆŒë¦¬ëŠ” ë§› */
.btn-3d:active {
    transform: translateY(2px) scale(0.99);
    box-shadow:
            0 9px 16px rgba(0,0,0,0.26),
            0 1px 0 rgba(255,255,255,0.10) inset;
    filter: brightness(0.98);
}

/* disabled */
.btn-3d:disabled {
    opacity: 0.45;
    cursor: not-allowed;
    transform: none;
    box-shadow: 0 8px 14px rgba(0,0,0,0.18);
    filter: none;
}

/* ì•„ì´ì½˜ */
.btn-3d .btn-icon {
    width: 22px;
    height: 22px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.btn-3d .btn-icon svg {
    width: 22px;
    height: 22px;
    fill: none;
    stroke: currentColor;
    stroke-width: 2.2;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0.95;
}

/* ë¼ë²¨ */
.btn-3d .btn-label {
    line-height: 1;
}

/* ëŒ€í‘œ(ì •ë‹µ ì œì¶œ) ë²„íŠ¼: í™”ë ¤í•œ ê·¸ë¦° ê·¸ë¼ë°ì´ì…˜ */
.btn-3d.primary {
    border-color: rgba(74,222,128,0.55);
    background: linear-gradient(180deg, rgba(74,222,128,0.98), rgba(16,185,129,0.86));
    box-shadow:
            0 18px 30px rgba(16,185,129,0.30),
            0 2px 0 rgba(255,255,255,0.24) inset;
}

/* í™ˆ CTAìš© ê³¨ë“œ ë²„íŠ¼ (ê¸°ì¡´ primary(ê·¸ë¦°)ê³¼ ë¶„ë¦¬) */
.btn-3d.gold {
    border-color: rgba(212,168,75,0.62);
    color: var(--primary-foreground);
    background: linear-gradient(180deg, rgba(229,188,106,0.98), rgba(212,168,75,0.92));
    box-shadow:
            0 18px 30px rgba(212,168,75,0.22),
            0 2px 0 rgba(255,255,255,0.22) inset;
}


/* ghost ë²„íŠ¼(ë³´ì¡° ë²„íŠ¼): ìœ¤ê³½ + ëœ í™”ë ¤í•œ 3D */
.btn-3d.ghost {
    background: rgba(255,255,255,0.05);
    border-color: rgba(148,163,184,0.22);
    box-shadow:
            0 12px 22px rgba(0,0,0,0.24),
            0 1px 0 rgba(255,255,255,0.10) inset;
}

/* =================================================
   í€´ì¦ˆ ì±„ì  ìƒíƒœ & UX ì•ˆì •í™” ìµœì†Œ íŒ¨ì¹˜
   ================================================= */

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1) ì •ë‹µ / ì˜¤ë‹µ í‘œì‹œ
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* ì •ë‹µ ë³´ê¸° */
#options-container button.option-correct {
    border-color: rgba(74, 222, 128, 0.9);
    background: rgba(74, 222, 128, 0.18);
}

/* ì˜¤ë‹µ(ë‚´ê°€ ì„ íƒí•œ ë³´ê¸°) */
#options-container button.option-wrong {
    border-color: rgba(248, 113, 113, 0.9);
    background: rgba(248, 113, 113, 0.16);
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   2) disabled ë²„íŠ¼ UX ëª…í™•í™”
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;      /* hover íŠ ë°©ì§€ */
    box-shadow: none;     /* ëˆŒë¦¼ ì°©ì‹œ ë°©ì§€ */
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   4) í”¼ë“œë°±(ì •ë‹µ/ì˜¤ë‹µ ë¬¸êµ¬) ê°€ë…ì„± ê°•í™”
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.feedback.correct {
    color: #22c55e;
    font-weight: 600;
}

.feedback.wrong {
    color: #ef4444;
    font-weight: 600;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   5) ì¬ì‹œë„ ë²„íŠ¼ ìƒíƒœ(ì„ íƒ)
   JSì—ì„œ .is-retry ë¶™ì¼ ë•Œ ì‚¬ìš©
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

#submit-btn.is-retry {
    border-color: rgba(248, 113, 113, 0.65);
    background: linear-gradient(
            180deg,
            rgba(248, 113, 113, 0.95),
            rgba(239, 68, 68, 0.82)
    );
}

/* ìŠ¤í† ë¦¬ í™”ë©´ë“¤ì€ quiz-screenì²˜ëŸ¼ í’€ìŠ¤í¬ë¦° ì¹´ë“œ ëŠë‚Œ */
#stage-intro-screen .card,
#event-intro-screen .card,
#event-outro-screen .card,
#stage-outro-screen .card {
    width: min(980px, 96vw);
    height: calc(100vh - 44px - 48px); /* top-bar + main padding ê³ ë ¤ */
    display: flex;
    flex-direction: column;
    margin: 0 auto;
}

/* ìŠ¤í† ë¦¬ ì´ë¯¸ì§€ ì˜ì—­: ë„ˆë¬´ í¬ê±°ë‚˜ ì‘ì§€ ì•Šê²Œ */
#stage-intro-screen .quiz-image-wrapper,
#event-intro-screen .quiz-image-wrapper,
#event-outro-screen .quiz-image-wrapper,
#stage-outro-screen .quiz-image-wrapper {
    height: clamp(220px, 34vh, 420px);
    flex: 0 0 auto;
    margin-bottom: 14px;
}

/* ìŠ¤í† ë¦¬ ì´ë¯¸ì§€ëŠ” ê½‰ ì±„ìš°ë˜ ì˜ë¦¬ì§€ ì•Šê²Œ */
#stage-intro-screen .quiz-image,
#event-intro-screen .quiz-image,
#event-outro-screen .quiz-image,
#stage-outro-screen .quiz-image {
    opacity: 1;
    filter: none;
    object-fit: contain;
    background: rgba(0, 0, 0, 0.22);
}

/* ìŠ¤í† ë¦¬ ë³¸ë¬¸ í…ìŠ¤íŠ¸: ê¸¸ë©´ ë‚´ë¶€ ìŠ¤í¬ë¡¤ */
#stage-intro-text,
#event-intro-text,
#event-outro-text,
#stage-outro-text {
    font-size: 16px;
    line-height: 1.75;
    font-weight: 600;

    /* ì¹´ë“œ ë‚´ë¶€ì—ì„œ ê¸¸ì–´ì§ˆ ë•Œ ì•ˆì •ì ìœ¼ë¡œ */
    flex: 1 1 auto;
    overflow: auto;

    padding: 12px 12px;
    border-radius: 14px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(148,163,184,0.18);
}

/* ìŠ¤í† ë¦¬ í™”ë©´ ë²„íŠ¼ì€ í•­ìƒ ì•„ë˜ì— ë¶™ê²Œ */
#stage-intro-screen .button-row,
#event-intro-screen .button-row,
#event-outro-screen .button-row,
#stage-outro-screen .button-row {
    margin-top: 14px;
    flex: 0 0 auto;
    justify-content: space-between;
}

/* ì¢ì€ í™”ë©´ì—ì„œëŠ” ë²„íŠ¼ì´ ìì—°ìŠ¤ëŸ½ê²Œ ë‘ ì¤„ë¡œ */
@media (max-width: 520px) {
    #stage-intro-screen .button-row,
    #event-intro-screen .button-row,
    #event-outro-screen .button-row,
    #stage-outro-screen .button-row {
        justify-content: stretch;
    }

    #stage-intro-screen .button-row .btn-3d,
    #event-intro-screen .button-row .btn-3d,
    #event-outro-screen .button-row .btn-3d,
    #stage-outro-screen .button-row .btn-3d {
        width: 100%;
    }
}

/* ìŠ¤í† ë¦¬ í™”ë©´ì—ì„œëŠ” stage-summary(ë¶€ì œ) ìƒ‰ìƒ í†µì¼ */
#stage-intro-screen .stage-summary,
#event-intro-screen .stage-summary,
#event-outro-screen .stage-summary,
#stage-outro-screen .stage-summary {
    color: var(--muted-foreground);
    margin-bottom: 10px;
}

/* quiz-screen ì „ìš© ê·œì¹™ì´ ìŠ¤í† ë¦¬ í™”ë©´ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ ë³´ì™„
   (quiz-screenì—ì„œë§Œ ì´ë¯¸ì§€ contain/ë†’ì´ ê·œì¹™ ì ìš©ë˜ê²Œ ì´ë¯¸ idë¡œ ì œí•œë˜ì–´ ìˆì§€ë§Œ,
    í˜¹ì‹œ ê³µí†µ í´ë˜ìŠ¤ ì¶©ëŒ ì‹œ ìŠ¤í† ë¦¬ í™”ë©´ì€ ìœ„ ìŠ¤íƒ€ì¼ì´ ìš°ì„ í•˜ë„ë¡ ìœ ì§€) */

/* ê³µí†µ: ì¹´ë“œ ì¸í„°ë™ì…˜ ê¸°ë³¸ê°’(ë„ˆë¬´ íŠ€ì§€ ì•Šê²Œ) */
.event-roadmap .event-card {
    transition: transform 160ms ease, box-shadow 160ms ease, opacity 160ms ease, filter 160ms ease;
    will-change: transform, box-shadow;
}

/* -------------------------
   LOCKED: ì•„ì§ ì‹œì‘ ë¶ˆê°€
   - ì‹œê°ì ìœ¼ë¡œ "ë‹«í˜€ìˆìŒ"
   - í´ë¦­ ë¶ˆê°€ ëŠë‚Œ ê°•í™”
   ------------------------- */
.event-roadmap .event-card.locked {
    opacity: 0.42;
    filter: grayscale(0.55);
    cursor: not-allowed;
    transform: none;
}

.event-roadmap .event-card.locked:hover {
    /* hoverí•´ë„ ë“¤ë¦¬ì§€ ì•Šê²Œ(í´ë¦­ ìœ ë„ ë°©ì§€) */
    transform: none;
    box-shadow: none;
}

/* ì ê¹€ ìƒíƒœ pillë„ í†¤ ë‹¤ìš´ */
.event-roadmap .event-card.locked .event-pill {
    opacity: 0.75;
}

/* -------------------------
   ACTIVE: í˜„ì¬ ì§„í–‰ ì¤‘
   - ê°€ì¥ ê°•í•œ ê°•ì¡° (ê³¨ë“œ/ê¸€ë¡œìš°)
   - ì‚´ì§ ë–  ìˆëŠ” ëŠë‚Œ
   ------------------------- */
.event-roadmap .event-card.active {
    opacity: 1;
    filter: none;
    cursor: pointer;

    /* ê³¨ë“œ í…Œë‘ë¦¬ + ê¸€ë¡œìš° */
    border: 1px solid rgba(245, 158, 11, 0.55);
    box-shadow:
            0 0 0 1px rgba(245, 158, 11, 0.18),
            0 10px 26px rgba(0, 0, 0, 0.38);
    transform: translateY(-2px);
}

.event-roadmap .event-card.active:hover {
    transform: translateY(-4px);
    box-shadow:
            0 0 0 1px rgba(245, 158, 11, 0.22),
            0 16px 34px rgba(0, 0, 0, 0.48);
}

/* ì§„í–‰ì¤‘ pillì€ ë” ì„ ëª…í•˜ê²Œ */
.event-roadmap .event-card.active .event-pill {
    border-color: rgba(245, 158, 11, 0.55);
}

/* -------------------------
   COMPLETED: ì™„ë£Œë¨
   - ì•ˆì •ê°(ì´ˆë¡/ì²­ë¡ ê³„ì—´) + ë³µìŠµ ê°€ëŠ¥ ëŠë‚Œ
   - activeë³´ë‹¨ ëœ íŠ€ì§€ë§Œ lockedì™€ í™•ì‹¤íˆ êµ¬ë¶„
   ------------------------- */
.event-roadmap .event-card.completed {
    opacity: 0.9;
    cursor: pointer;

    border: 1px solid rgba(34, 197, 94, 0.25);
    background: rgba(34, 197, 94, 0.08);
}

.event-roadmap .event-card.completed:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 26px rgba(0, 0, 0, 0.32);
}

/* ì™„ë£Œ pillì€ ì€ì€í•œ ì„±ê³µ í†¤ */
.event-roadmap .event-card.completed .event-pill {
    border-color: rgba(34, 197, 94, 0.28);
}

/* -------------------------
   STATUS ICON (ì„ íƒì  UX ê°•í™”)
   - ì¹´ë“œ ì˜¤ë¥¸ìª½ ìœ„ì— ìƒíƒœ ì•„ì´ì½˜ì„ "ê°€ìƒ ìš”ì†Œ"ë¡œ í‘œì‹œ
   - HTML ìˆ˜ì • ì—†ì´ CSSë§Œìœ¼ë¡œ ì²˜ë¦¬
   ------------------------- */
.event-roadmap .event-card {
    position: relative;
}

/* ì ê¹€: ğŸ”’ */
.event-roadmap .event-card.locked::after {
    content: "ğŸ”’";
    position: absolute;
    top: 10px;
    right: 12px;
    opacity: 0.55;
    font-size: 16px;
}

/* ì§„í–‰ì¤‘: â–¶ */
.event-roadmap .event-card.active::after {
    content: "â–¶";
    position: absolute;
    top: 10px;
    right: 12px;
    opacity: 0.9;
    font-size: 16px;
}

/* ì™„ë£Œ: âœ” */
.event-roadmap .event-card.completed::after {
    content: "âœ”";
    position: absolute;
    top: 10px;
    right: 12px;
    opacity: 0.85;
    font-size: 16px;
}

/* -------------------------
   A11Y: í‚¤ë³´ë“œ í¬ì»¤ìŠ¤(ê°€ëŠ¥í•œ ê²½ìš°)
   - í´ë¦­ ê°€ëŠ¥í•œ ì¹´ë“œ(active/completed)ê°€ í¬ì»¤ìŠ¤ ì¡íˆë©´ í…Œë‘ë¦¬ ê°•ì¡°
   ------------------------- */
.event-roadmap .event-card.active:focus,
.event-roadmap .event-card.completed:focus {
    outline: 2px solid rgba(245, 158, 11, 0.55);
    outline-offset: 2px;
}

/* =========================
   STORY SCREENS: IMAGE FIRST
   - ì‚¬ì§„ì„ í™”ë©´ ëŒ€ë¶€ë¶„ ì°¨ì§€
   - í…ìŠ¤íŠ¸ ë°•ìŠ¤ëŠ” ìµœì†Œí™”
   ========================= */

/* ìŠ¤í† ë¦¬ ì¹´ë“œ: ì „ì²´ ë†’ì´ ìœ ì§€ */
#stage-intro-screen .card,
#event-intro-screen .card,
#event-outro-screen .card,
#stage-outro-screen .card {
    display: flex;
    flex-direction: column;
}

/* âœ… ì‚¬ì§„ ì˜ì—­ì„ í¬ê²Œ (ìƒí•œì„ í™• ì˜¬ë¦¬ê±°ë‚˜, flexë¡œ í‚¤ì›€) */
#stage-intro-screen .quiz-image-wrapper,
#event-intro-screen .quiz-image-wrapper,
#event-outro-screen .quiz-image-wrapper,
#stage-outro-screen .quiz-image-wrapper {
    /* ê¸°ì¡´: clamp(220px, 34vh, 420px) â†’ ë„ˆë¬´ ì‘ìŒ */
    height: clamp(380px, 62vh, 780px);
    flex: 1 1 auto;
    margin-bottom: 10px;
}

/* âœ… í…ìŠ¤íŠ¸ ì˜ì—­ì„ ìµœì†Œí™” + ë‚´ë¶€ ìŠ¤í¬ë¡¤ */
#stage-intro-text,
#event-intro-text,
#event-outro-text,
#stage-outro-text {
    flex: 0 0 auto;      /* ë‚¨ëŠ” ê³µê°„ ë¨¹ì§€ ë§ˆ */
    max-height: 14vh;    /* í…ìŠ¤íŠ¸ ë°•ìŠ¤ ë¹„ìœ¨ ìµœì†Œí™” (ì›í•˜ë©´ 10vhê¹Œì§€ ì¤„ì—¬ë„ ë¨) */
    overflow: auto;

    font-size: 15px;
    line-height: 1.6;
    padding: 10px 12px;
}

/* (ì„ íƒ) í…ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆìœ¼ë©´ ë°•ìŠ¤ ìì²´ë¥¼ ìˆ¨ê¸°ê¸°: ...ë§Œ ë³´ì´ëŠ” ê²½ìš° ë°©ì§€ */
#stage-intro-text:empty,
#event-intro-text:empty,
#event-outro-text:empty,
#stage-outro-text:empty {
    display: none;
}

#stage-intro-screen .quiz-image
 {
    object-fit: cover; /* ê½‰ ì±„ì›€ (ëŒ€ì‹  ì¼ë¶€ ì˜ë¦´ ìˆ˜ ìˆìŒ) */
}

/* =================================================
   ROADMAP UX POLISH: "ê³„ì†í•˜ê¸°" vs "ë³µìŠµí•˜ê¸°" ì‹œê° êµ¬ë¶„
   - active: ê³¨ë“œ(í˜„ì¬ ì§„í–‰) + ë” ê°•í•œ ê°•ì¡°
   - completed: ê·¸ë¦°(ì™„ë£Œ/ë³µìŠµ) + ì•ˆì •ì  ê°•ì¡°
   ================================================= */

/* ì¹´ë“œ ì•ˆì˜ pill(ìƒíƒœ/ì§„ë„) ê°€ë…ì„± ì‚´ì§ ì˜¬ë¦¬ê¸° */
.event-roadmap .event-card .event-pill {
    font-weight: 700;
    letter-spacing: 0.1px;
}

/* ACTIVE(ê³„ì†í•˜ê¸°): ê³¨ë“œ ê¸€ë¡œìš° + ë” ì„ ëª… */
.event-roadmap .event-card.active {
    border: 1px solid rgba(245, 158, 11, 0.65);
    background: linear-gradient(
            180deg,
            rgba(245, 158, 11, 0.14),
            rgba(255, 255, 255, 0.06)
    );
    box-shadow:
            0 0 0 1px rgba(245, 158, 11, 0.20),
            0 16px 36px rgba(0, 0, 0, 0.46);
}

/* ACTIVE pill: "ê³„ì†í•˜ê¸°" ëŠë‚Œ ë” ê°•í•˜ê²Œ */
.event-roadmap .event-card.active .event-pill:first-child {
    border-color: rgba(245, 158, 11, 0.65);
    background: rgba(245, 158, 11, 0.16);
    color: var(--cream-50);
}

/* COMPLETED(ë³µìŠµí•˜ê¸°): ì´ˆë¡í†¤ + ì°¨ë¶„í•œ ê°•ì¡° */
.event-roadmap .event-card.completed {
    border: 1px solid rgba(34, 197, 94, 0.35);
    background: linear-gradient(
            180deg,
            rgba(34, 197, 94, 0.12),
            rgba(255, 255, 255, 0.05)
    );
    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.34);
}

/* COMPLETED pill: "ë³µìŠµí•˜ê¸°" í†¤ */
.event-roadmap .event-card.completed .event-pill:first-child {
    border-color: rgba(34, 197, 94, 0.45);
    background: rgba(34, 197, 94, 0.14);
    color: var(--cream-50);
}

/* LOCKEDëŠ” ë” 'ë¹„í™œì„±'ì²˜ëŸ¼ */
.event-roadmap .event-card.locked {
    opacity: 0.38;
    filter: grayscale(0.7);
}

/* ìƒíƒœ ì•„ì´ì½˜ì„ UXì— ë§ê²Œ êµì²´ (ê¸°ì¡´ :after ê·œì¹™ ë®ì–´ì“°ê¸°) */
.event-roadmap .event-card.locked::after {
    content: "ğŸ”’";
}

.event-roadmap .event-card.active::after {
    content: "âµ"; /* ê³„ì†í•˜ê¸° ëŠë‚Œ */
}

.event-roadmap .event-card.completed::after {
    content: "â†º"; /* ë³µìŠµ ëŠë‚Œ */
}

/* ì•„ì´ì½˜ì´ ë„ˆë¬´ íŠ€ë©´ ì‚´ì§ë§Œ í†¤ë‹¤ìš´ */
.event-roadmap .event-card::after {
    font-size: 16px;
    opacity: 0.85;
}

/* =================================================
   QUIZ SCREEN BUTTON UX POLISH
   - Primary: ì •ë‹µ ì œì¶œ / ë‹¤ìŒ ë¬¸ì œ
   - Secondary: íŒíŠ¸ / ë¡œë“œë§µìœ¼ë¡œ
   - Reset ë²„íŠ¼ ì œê±° ì´í›„ ê· í˜• ë³´ì •
   ================================================= */

/* í€´ì¦ˆ í™”ë©´ ë²„íŠ¼ ì¤„ ì •ë ¬ */
#quiz-screen .button-row {
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid rgba(148, 163, 184, 0.25);
    justify-content: space-between;
}

/* ì™¼ìª½: ì£¼ìš” ì•¡ì…˜ ë¬¶ìŒ */
#quiz-screen .button-row > #submit-btn,
#quiz-screen .button-row > #next-btn {
    order: 1;
}

/* ì˜¤ë¥¸ìª½: ë³´ì¡° ì•¡ì…˜ */
#quiz-screen .button-row > #hint-btn,
#quiz-screen .button-row > #back-roadmap-from-quiz {
    order: 2;
}

/* ë³´ì¡° ë²„íŠ¼ì€ ì‚´ì§ í†¤ ë‹¤ìš´ */
#quiz-screen #hint-btn,
#quiz-screen #back-roadmap-from-quiz {
    opacity: 0.9;
}

/* ë¡œë“œë§µìœ¼ë¡œ ë²„íŠ¼ì€ ì´ë™ ì„±ê²© ê°•ì¡° */
#quiz-screen #back-roadmap-from-quiz {
    border-color: rgba(148, 163, 184, 0.45);
    background: rgba(255, 255, 255, 0.04);
}

/* hover ì‹œì—ë„ ê³¼í•˜ê²Œ íŠ€ì§€ ì•Šê²Œ */
#quiz-screen #back-roadmap-from-quiz:hover {
    filter: brightness(1.02);
}

/* ëª¨ë°”ì¼ì—ì„œëŠ” ë²„íŠ¼ì„ ë‘ ì¤„ë¡œ */
@media (max-width: 520px) {
    #quiz-screen .button-row {
        flex-direction: column;
        align-items: stretch;
    }

    #quiz-screen .button-row button {
        width: 100%;
    }
}

/* =========================
   UX PATCH: SCI-FI BATTERY HUD (QUIZ)
   - 1ë¬¸ì œ=1ì¹¸(ì´ 5ì¹¸) ì§„í–‰ë„ í‘œì‹œìš©
   - ë°°ì¹˜ëŠ” "í€´ì¦ˆ ì´ë¯¸ì§€ ì˜¤ë¥¸ìª½" (ìŠ¤í¬ë¦°ìƒ· ë¹¨ê°„ ì˜ì—­)
   ========================= */

/* í€´ì¦ˆ ì¹´ë“œ ê¸°ì¤€ìœ¼ë¡œ HUDë¥¼ ì ˆëŒ€ ë°°ì¹˜í•  ìˆ˜ ìˆê²Œ */
#quiz-screen .card {
    position: relative;
}

/* HUD ì „ì²´ ë°•ìŠ¤ */
#battery-hud.battery-hud {
    position: absolute;
    /* âœ… ì´ë¯¸ì§€ ì˜¤ë¥¸ìª½ì— ë¶™ì´ê¸° */
    right: 26px;
    top: 86px;                 /* top-bar/íƒ€ì´í‹€ ì•„ë˜ë¡œ ì ë‹¹íˆ ë‚´ë¦¼ */
    width: 120px;
    z-index: 5;

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;

    user-select: none;
    pointer-events: none;      /* HUDëŠ” í´ë¦­ ìš”ì†Œê°€ ì•„ë‹ˆë¯€ë¡œ */
}

/* ì´ë¯¸ì§€ ì˜ì—­ì´ HUD ë•Œë¬¸ì— ì•ˆ ê°€ë ¤ì§€ë„ë¡ ì˜¤ë¥¸ìª½ ì—¬ë°± í™•ë³´ */
#quiz-screen .quiz-image-wrapper {
    margin-right: 140px;       /* HUD í­(120) + ì—¬ìœ  */
}

/* ë°°í„°ë¦¬ í”„ë ˆì„(ë„¤ì˜¨) */
#battery-hud .battery-frame {
    width: 110px;
    height: 320px;

    border-radius: 18px;
    border: 1px solid rgba(148,163,184,0.35);
    background: rgba(255,255,255,0.04);

    padding: 12px;

    display: flex;
    flex-direction: column-reverse; /* âœ… ì•„ë˜ ì¹¸ë¶€í„° ì±„ì›€ */
    gap: 8px;

    /* ë„¤ì˜¨ ê¸€ë¡œìš° */
    box-shadow:
            0 0 0 1px rgba(212,168,75,0.12),
            0 10px 26px rgba(0,0,0,0.35),
            0 0 22px rgba(74,222,128,0.06);
    backdrop-filter: blur(6px);
}

/* ë¶„ì ˆ ì¹¸(ê¸°ë³¸: êº¼ì§) */
#battery-hud .battery-seg {
    height: 44px;
    border-radius: 12px;

    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(148,163,184,0.22);

    box-shadow: inset 0 0 0 rgba(0,0,0,0);
    filter: none;
    opacity: 0.55;
}

/* ì¼œì§ ê³µí†µ(ì‚´ì§ ë¹›) */
#battery-hud .battery-seg.is-on {
    opacity: 1;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   data-level(1~5) â†’ ëª‡ ì¹¸ ì¼œê¸°
   (column-reverseë¼ nth-child(1)ë¶€í„° ì•„ë˜ì¹¸)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#battery-hud[data-level="1"] .battery-seg:nth-child(-n+1),
#battery-hud[data-level="2"] .battery-seg:nth-child(-n+2),
#battery-hud[data-level="3"] .battery-seg:nth-child(-n+3),
#battery-hud[data-level="4"] .battery-seg:nth-child(-n+4),
#battery-hud[data-level="5"] .battery-seg:nth-child(-n+5) {
    opacity: 1;
}

/* 1~2ë‹¨ê³„: RED(ìœ„í—˜/ì €ì „ë ¥) */
#battery-hud[data-level="1"] .battery-seg:nth-child(-n+1),
#battery-hud[data-level="2"] .battery-seg:nth-child(-n+2) {
    background: rgba(248,113,113,0.22);
    border-color: rgba(248,113,113,0.55);
    box-shadow:
            0 0 18px rgba(248,113,113,0.22),
            0 0 6px rgba(248,113,113,0.18) inset;
}

/* 3~4ë‹¨ê³„: YELLOW(ì¤‘ê°„) */
#battery-hud[data-level="3"] .battery-seg:nth-child(-n+3),
#battery-hud[data-level="4"] .battery-seg:nth-child(-n+4) {
    background: rgba(245,158,11,0.22);
    border-color: rgba(245,158,11,0.55);
    box-shadow:
            0 0 18px rgba(245,158,11,0.20),
            0 0 6px rgba(245,158,11,0.18) inset;
}

/* 5ë‹¨ê³„: BLUE(MAX POWER) */
#battery-hud[data-level="5"] .battery-seg:nth-child(-n+5) {
    background: rgba(59,130,246,0.24);
    border-color: rgba(59,130,246,0.62);
    box-shadow:
            0 0 22px rgba(59,130,246,0.28),
            0 0 10px rgba(59,130,246,0.22) inset;
}

/* MAX POWER í…ìŠ¤íŠ¸ (5ë‹¨ê³„ì¼ ë•Œë§Œ) */
#battery-hud[data-level="5"] .battery-frame::after {
    position: absolute;
    left: 50%;
    top: -26px;                 /* âœ… ìœ„ë¡œ ì˜¬ë¦¼ */
    transform: translateX(-50%);

    font-weight: 900;
    font-size: 12px;
    letter-spacing: 0.8px;

    color: rgba(147,197,253,0.95);
    text-shadow:
            0 0 10px rgba(59,130,246,0.55),
            0 0 22px rgba(59,130,246,0.35);
}

/* frameì„ relativeë¡œ ë§Œë“¤ì–´ ::after ë°°ì¹˜ */
#battery-hud .battery-frame {
    position: relative;
}

/* ë¼ë²¨ */
#battery-hud .battery-label {
    text-align: center;
    line-height: 1.2;
    opacity: 0.95;
}

#battery-hud .battery-title {
    font-size: 12px;
    font-weight: 900;
    letter-spacing: 0.6px;
    color: rgba(235,229,217,0.95);
}

#battery-hud .battery-sub {
    margin-top: 4px;
    font-size: 12px;
    font-weight: 800;
    color: rgba(212,168,75,0.95);
}

/* ì¢ì€ í™”ë©´ì—ì„œëŠ” HUDë¥¼ ì•„ë˜ë¡œ ë‚´ë¦¬ê³ , ì´ë¯¸ì§€ ì—¬ë°± í•´ì œ */
@media (max-width: 780px) {
    #battery-hud.battery-hud {
        position: static;
        width: auto;
        margin: 10px 0 0;
        pointer-events: none;
    }

    #battery-hud .battery-frame {
        width: 100%;
        height: 140px;
        flex-direction: row;     /* ëª¨ë°”ì¼ì—ì„œëŠ” ê°€ë¡œ ë°°í„°ë¦¬ë¡œ */
    }

    #battery-hud .battery-seg {
        flex: 1 1 0;
        height: auto;
    }
}

#battery-hud .battery-label {
    display: none;
}

#battery-hud.battery-hud {
    gap: 0;
}

/* =========================
   QUIZ ì´ë¯¸ì§€ ì¹´ë“œ ë°°ê²½ì„ í°ìƒ‰ìœ¼ë¡œ
   ========================= */

#quiz-screen .quiz-image-wrapper {
    background: #ffffff;              /* âœ… í° ë°°ê²½ */
    border-radius: 16px;
    padding: 12px;                    /* ì´ë¯¸ì§€ì™€ ì¹´ë“œ ì‚¬ì´ ì—¬ë°± */
}

#quiz-screen .quiz-image {
    background: #ffffff;
    border-radius: 12px;
}

/* =========================
   DEV PANEL (only when ?dev=1)
   ========================= */
.dev-panel{
    position: fixed;
    right: 14px;
    bottom: 14px;
    width: 220px;
    padding: 10px;
    border-radius: 14px;
    background: rgba(15, 23, 42, 0.92);
    border: 1px solid rgba(148, 163, 184, 0.35);
    box-shadow: 0 12px 30px rgba(0,0,0,0.35);
    z-index: 9999;
    font-size: 12px;
}
.dev-title{
    font-weight: 800;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
}
.dev-row{
    display: flex;
    gap: 8px;
    margin-bottom: 8px;
}
.dev-btn{
    flex: 1;
    padding: 8px 10px;
    border-radius: 10px;
    border: 1px solid rgba(148, 163, 184, 0.35);
    background: rgba(255, 255, 255, 0.06);
    color: inherit;
    cursor: pointer;
}
.dev-btn:hover{
    filter: brightness(1.06);
}
.dev-log{
    padding: 8px;
    border-radius: 10px;
    background: rgba(0,0,0,0.25);
    border: 1px solid rgba(148, 163, 184, 0.2);
    white-space: pre-wrap;
    min-height: 54px;
}

#home-screen .home-cta {
    padding: 24px 18px;
}

/* =========================
   THEME (í…Œë§ˆ ì„ íƒ) â€“ í™ˆê³¼ ë™ì¼ í†¤ì˜ ëŒ€í˜• ì¹´ë“œ
   ========================= */
#theme-screen.active {
    display: flex;
    justify-content: center;
    padding-top: 60px;
    padding-bottom: 60px;
}

/* í…Œë§ˆ ì¹´ë“œ ìì²´ í¬ê¸° í™•ëŒ€ */
.theme-card {
    width: min(980px, 92vw);
    margin: 0 auto;
    padding: 52px 52px 44px;
    border-radius: 26px;
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
}

/* ì œëª©/ì„¤ëª… ë¹„ë¡€ í™•ëŒ€ */
#theme-screen .theme-card h1 {
    font-size: 34px;
    margin-bottom: 10px;
    letter-spacing: -0.4px;
}

#theme-screen .theme-card .stage-summary {
    font-size: 16px;
    line-height: 1.7;
    margin-bottom: 22px;
    color: rgba(235,229,217,0.90);
}

/* í…Œë§ˆ ë²„íŠ¼ë“¤(ì¹©/ë©”ì¸ ë²„íŠ¼) í¬ê¸° í™•ëŒ€ */
#theme-screen .theme-card button {
    font-size: 14px;
    padding: 12px 18px;
    border-radius: 999px;
}

/* ë©”ì¸ ì§„ì… ë²„íŠ¼(#theme-global-btn)ì€ ë” í¬ê²Œ */
#theme-global-btn {
    padding: 14px 22px;   /* ê¸°ì¡´ ê³µí†µ 8px 14pxë³´ë‹¤ í¼ */
    font-size: 14px;
    font-weight: 750;
}

/* ë’¤ë¡œê°€ê¸° ë²„íŠ¼(#back-home-from-theme)ë„ ì‚´ì§ í‚¤ìš°ê¸° */
#back-home-from-theme {
    padding: 12px 18px;
    font-size: 14px;
}

/* (ì„ íƒ) ë²„íŠ¼ ì‚¬ì´ ê°„ê²©ì´ ì´˜ì´˜í•˜ë©´ ì‚´ì§ ë²Œë¦¬ê¸° */
#theme-screen .theme-card .button-row {
    gap: 12px;
}

/* THEME ì•„ì´ì½˜ ë°°ì§€: í™ˆ ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ ì¬ì‚¬ìš© + ìœ„ì¹˜ë§Œ ì¡°ì • */
.theme-icon {
    margin: 0 0 16px;       /* ê°€ìš´ë°ê°€ ì•„ë‹ˆë¼ ì¹´ë“œ ë‚´ë¶€ ì¢Œì¸¡ ë°°ì¹˜ */
    width: 72px;
    height: 72px;
    border-radius: 20px;
}

.theme-icon svg {
    width: 40px;
    height: 40px;
}

#theme-screen .theme-card {
    text-align: center;
}

#theme-screen .theme-card .button-row {
    justify-content: center;
}

/* =========================
   THEME SCREEN â€“ LIST PATTERN
   ========================= */
#theme-screen .theme-card {
    width: min(860px, 92vw);
    padding: 34px 34px 28px;
}

#theme-screen .theme-title {
    margin: 0 0 10px;
    font-size: 40px;
    letter-spacing: -0.6px;
}

#theme-screen .theme-subtitle {
    margin: 0 0 22px;
    color: rgba(235,229,217,0.78); /* ì§€ê¸ˆ íŒ”ë ˆíŠ¸ ìœ ì§€ */
    font-size: 16px;
    line-height: 1.7;
}

/* ë¦¬ìŠ¤íŠ¸ */
.theme-list {
    display: flex;
    flex-direction: column;
    gap: 18px;
}

/* ì•„ì´í…œ ì¹´ë“œ(ë²„íŠ¼) */
.theme-item {
    width: 100%;
    border: 1px solid rgba(148,163,184,0.22);
    background: rgba(255,255,255,0.03);
    border-radius: 18px;
    padding: 22px 22px;
    display: flex;
    align-items: center;
    gap: 16px;

    color: rgba(250,248,245,0.94);
    cursor: pointer;

    box-shadow:
            0 18px 28px rgba(0,0,0,0.25),
            0 1px 0 rgba(255,255,255,0.08) inset;

    transition: transform 140ms ease, filter 140ms ease, border-color 140ms ease;
}

.theme-item:hover:not(:disabled) {
    transform: translateY(-2px);
    filter: brightness(1.05);
    border-color: rgba(212,168,75,0.35);
}

.theme-item:active:not(:disabled) {
    transform: translateY(1px);
    filter: brightness(0.98);
}

/* ì™¼ìª½ ì•„ì´ì½˜ ë°•ìŠ¤ */
.theme-item-icon {
    width: 54px;
    height: 54px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;

    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(148,163,184,0.18);
}

.theme-item-icon.active {
    background: rgba(212,168,75,0.10);
    border-color: rgba(212,168,75,0.22);
}

.theme-item-icon svg {
    width: 26px;
    height: 26px;
    stroke: rgba(212,168,75,0.95);
    stroke-width: 2.2;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
}

.theme-item-icon.locked svg {
    stroke: rgba(148,163,184,0.65);
}

/* í…ìŠ¤íŠ¸ */
.theme-item-text {
    flex: 1 1 auto;
    min-width: 0;
}

.theme-item-name {
    font-size: 22px;
    font-weight: 850;
    letter-spacing: -0.2px;
    margin-bottom: 6px;
}

.theme-item-desc {
    font-size: 14px;
    color: rgba(235,229,217,0.70);
}

/* ìš°ì¸¡ ì•„ì´ì½˜ (í™”ì‚´í‘œ/ìë¬¼ì‡ ) */
.theme-item-right {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.9;
    flex: 0 0 auto;
}

.theme-item-right svg {
    width: 22px;
    height: 22px;
    stroke: rgba(235,229,217,0.85);
    stroke-width: 2.4;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
}

.theme-item-right.lock svg {
    stroke: rgba(148,163,184,0.75);
}

/* locked ìƒíƒœ */
.theme-item.locked {
    opacity: 0.65;
    cursor: not-allowed;
}

.theme-item.locked .theme-item-name,
.theme-item.locked .theme-item-desc {
    color: rgba(235,229,217,0.55);
}

/* í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ */
.theme-footer {
    margin-top: 22px;
    display: flex;
    justify-content: flex-start;
}

/* í™œì„±(ê³¨ë“œ ê°•ì¡°) ì•„ì´ì½˜ì€ ì„ ìƒ‰ì„ ì–´ë‘¡ê²Œ â†’ ë°°ê²½ê³¼ ëŒ€ë¹„ í™•ë³´ */
.theme-item-icon.active svg {
    stroke: rgba(10, 22, 40, 0.92);
}

/* (ì„ íƒ) í™œì„± ì•„ì´ì½˜ ë°•ìŠ¤ë„ ì¡°ê¸ˆ ë” ë˜ë ·í•˜ê²Œ */
.theme-item-icon.active {
    background: rgba(255,255,255,0.10);
    border-color: rgba(10, 22, 40, 0.18);
}


/* í…Œë§ˆ ì„ íƒìš© ë¯¸ì„¸ ì¡°ì • */
.theme-roadmap .event-card {
    cursor: pointer;
}

.theme-roadmap .event-card.locked {
    cursor: not-allowed;
    opacity: 0.6;
}

.theme-roadmap .event-icon {
    margin-left: auto;
    font-size: 20px;
    opacity: 0.8;
}

/* ===== ROADMAP LAYOUT (photo pattern) ===== */
.roadmap-card {
    max-width: 980px;   /* ì‚¬ì§„ì²˜ëŸ¼ ë„“ê²Œ */
    width: min(980px, calc(100vw - 48px));
}

#roadmap-screen h1 {
    font-size: 34px;
    letter-spacing: -0.2px;
}

#roadmap-screen .stage-summary {
    font-size: 14px;
    margin-bottom: 18px;
}

/* 2ì—´ ê·¸ë¦¬ë“œ */
.event-roadmap {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 16px;
}

/* ëª¨ë°”ì¼: 1ì—´ */
@media (max-width: 720px) {
    .event-roadmap { grid-template-columns: 1fr; }
}

/* ì¹´ë“œ ê¸°ë³¸ í†¤ */
.event-roadmap .event-card {
    border-radius: 16px;
    padding: 16px 18px;
    background: rgba(255, 255, 255, 0.035);
    border: 1px solid rgba(148, 163, 184, 0.18);
}

/* ì¹´ë“œ ë‚´ë¶€ ì •ë ¬(ì¢Œ í…ìŠ¤íŠ¸ / ìš° ì•„ì´ì½˜) */
.event-roadmap .event-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 14px;
}

.event-roadmap .event-left { min-width: 0; }

.event-roadmap .event-title {
    font-size: 18px;
    font-weight: 800;
    margin-bottom: 10px;
}

/* pill(ìƒíƒœ/ì§„ë„) */
.event-roadmap .event-meta {
    display: flex;
    gap: 10px;
}

.event-roadmap .event-pill {
    display: inline-flex;
    align-items: center;
    height: 28px;
    padding: 0 10px;
    border-radius: 999px;
    border: 1px solid rgba(148, 163, 184, 0.25);
    background: rgba(255, 255, 255, 0.03);
    font-size: 12px;
}

/* ìš°ì¸¡ ì•„ì´ì½˜(chevron/lock) */
.event-roadmap .event-right {
    width: 34px;
    height: 34px;
    display: grid;
    place-items: center;
    opacity: 0.9;
}

.event-roadmap .event-right svg {
    width: 26px;
    height: 26px;
    fill: none;
    stroke: rgba(226, 232, 240, 0.75);
    stroke-width: 2.2;
    stroke-linecap: round;
    stroke-linejoin: round;
}

/* ì ê¹€ì¼ ë• ì•„ì´ì½˜ í†¤ ë‹¤ìš´ */
.event-roadmap .event-card.locked .event-right {
    opacity: 0.55;
}

/* ê¸°ì¡´ ::after ì•„ì´ì½˜(ì´ëª¨ì§€) ì“°ê³  ìˆìœ¼ë©´ ë„ê¸° */
.event-roadmap .event-card::after {
    content: none !important;
}

/* =========================================
   QUIZ STATUS PANEL (User / Partner)
========================================= */

/* í€´ì¦ˆ í™”ë©´ ê¸°ì¤€ ì¡ê¸° */
#quiz-screen {
    position: relative;
}

/* ì¢Œì¸¡ ìƒíƒœ íŒ¨ë„ */
#quiz-screen .status-panel{
    position: absolute;
    left: 16px;
    top: 16px;
    z-index: 6;
}

/* ê°œë³„ ìƒíƒœ ì•„ì´í…œ */
.status-item {
    width: 72px;
    height: 72px;

    border-radius: 50%;
    padding: 4px;

    background: linear-gradient(
            145deg,
            rgba(255, 215, 120, 0.35),
            rgba(180, 140, 60, 0.25)
    );

    box-shadow:
            0 0 0 2px rgba(255, 215, 120, 0.35),
            0 8px 20px rgba(0, 0, 0, 0.35);

    display: flex;
    align-items: center;
    justify-content: center;
}

/* ì´ë¯¸ì§€ ìì²´ */
.status-item img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;

    transition:
            transform 0.25s ease,
            filter 0.25s ease;
}

/* ìœ ì € / íŒŒíŠ¸ë„ˆ ì•„ë°”íƒ€ ì´ë¯¸ì§€ */
#user-avatar,
#partner-avatar {
    width: 96px;      /* â† ì—¬ê¸° ìˆ«ìë§Œ í‚¤ìš°ë©´ ë¨ */
    height: 96px;
    object-fit: cover;
    border-radius: 50%;
}

.quiz-card {
    overflow: visible; /* ë˜ëŠ” ì œê±° */
}

.status-circle span {
    display: none;
}

.status-item {
    width: 110px;     /* ì´ë¯¸ì§€ë³´ë‹¤ ì‚´ì§ í¬ê²Œ */
    height: 110px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.35);
}

/* =========================
   Avatar Reaction Animation
========================= */

@keyframes avatar-bounce {
    0%   { transform: scale(1); }
    30%  { transform: scale(1.15); }
    60%  { transform: scale(0.95); }
    100% { transform: scale(1); }
}

.status-item.react {
    animation: avatar-bounce 0.35s ease-out;
}

/* ì„ íƒ: ì •ë‹µ/ì˜¤ë‹µ ì‹œ ì‹œê°ì  ê°•ì¡° */
.status-item.correct {
    box-shadow: 0 0 14px rgba(80, 200, 120, 0.85);
}

.status-item.wrong {
    box-shadow: 0 0 14px rgba(220, 80, 80, 0.85);
}

/* ì´ë¯¸ì§€ ìœ„ì— ì–¹ì„ UI ë ˆì´ì–´ */
.quiz-top-overlay{
    position: absolute;
    inset: 12px 12px auto 12px;  /* ìœ„ìª½ì— ë”± ë¶™ì´ê¸° */
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    pointer-events: none;        /* ì˜¤ë²„ë ˆì´ê°€ í´ë¦­ì„ ë§‰ì§€ ì•Šê²Œ */
    gap: 12px;
}

.quiz-top-overlay .left-stack{
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.quiz-top-overlay .right-stack{
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 10px;
}

/* ì˜¤ë²„ë ˆì´ ë‚´ë¶€ì—ì„œëŠ” í´ë¦­ í•„ìš” ì—†ìœ¼ë‹ˆ(ì•„ë°”íƒ€ëŠ” í‘œì‹œìš©) pointer-events ìœ ì§€ */
.quiz-top-overlay .status-panel,
.quiz-top-overlay .meta-row{
    pointer-events: none;
}

/* pillì´ ì´ë¯¸ì§€ ìœ„ì—ì„œë„ ì½íˆê²Œ ì‚´ì§ ë°°ê²½ ê°•í™”(ì„ íƒ) */
.meta-row-overlay .pill{
    backdrop-filter: blur(6px);
    background: rgba(255,255,255,0.18);
    border: 1px solid rgba(255,255,255,0.20);
    color: #fff;
}

#stage-intro-text,
#event-intro-text,
#event-outro-text,
#stage-outro-text {
    white-space: pre-line;
}



